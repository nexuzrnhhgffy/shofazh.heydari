<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>جستجو - شوفاژ حیدری</title>
  <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazir-font@v30.1.0/dist/font-face.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.rtl.min.css" rel="stylesheet">
  <style>
    :root{--main:#d35400;--bg:#f5f5f5;--dark:#1a1a1a}
    body{font-family:Vazir,Tahoma, sans-serif;background:var(--bg);margin:0;padding:0;direction:rtl}
    .top-bar{background:var(--dark);color:#fff;padding:8px 0;font-size:14px;overflow:hidden}
    .top-bar .ticker{display:inline-block;animation: scrollLeft 25s linear infinite}
    @keyframes scrollLeft{0%{transform:translateX(100%)}100%{transform:translateX(-100%)}}
    .main-header{background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('image.png') center/cover;padding:20px 0}
    .header-content{display:flex;justify-content:space-between;align-items:center;gap:15px;padding:0 15px}
    .logo{font-size:32px;color:#fff;font-weight:bold}
    nav.navbar{background:var(--main) !important}
    .container{max-width:1000px;margin:0 auto;padding:20px}
    .back{margin-bottom:18px;display:inline-block;color:#444;text-decoration:none}
    .search-box{display:flex;gap:8px;margin-bottom:20px}
    .search-box input{flex:1;padding:12px;border-radius:8px;border:1px solid #ddd}
    .result{background:#fff;padding:16px;border-radius:10px;margin-bottom:12px;box-shadow:0 4px 14px rgba(0,0,0,0.04)}
    .result h3{margin:0 0 6px}
    .result p{color:#666}
    .intro-video{max-width:1000px;margin:18px auto;padding:18px;background:#fff;border-radius:12px;box-shadow:0 6px 20px rgba(0,0,0,0.06);text-align:center}
    .intro-video video{width:100%;height:auto;border-radius:10px}


    
        footer {
            background:#1a1a1a;
            color:#ddd;
            padding:60px 0 20px;
            margin-top:80px;
        }
        .footer-content {
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
            gap:40px;
            margin-bottom:40px;
        }
        .footer-section h3 {
            color:var(--main);
            margin-bottom:20px;
            font-size:20px;
        }

        /* color switcher UI */
        .color-controls{display:flex;gap:8px;align-items:center}
        .color-btn{width:28px;height:28px;border-radius:6px;border:2px solid rgba(255,255,255,0.6);cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,0.15)}
        .color-btn.active{outline:3px solid rgba(255,255,255,0.25);transform:translateY(-2px)}
        .footer-section a {
            color:#bbb;
            text-decoration:none;
            display:block;
            margin-bottom:10px;
        }
        .footer-section a:hover {
            color:#fff;
        }
        .footer-bottom {
            text-align:center;
            padding-top:25px;
            border-top:1px solid #333;
            color:#777;
            font-size:14px;
        }

        @media (max-width:768px) {
            .slide-content h2 {font-size:32px;}
            .slide-content p {font-size:16px;}
            .hero-slider {height:350px;}
        }
  </style>
</head>
<body>
  <!-- header -->
  <div class="top-bar">
    <div class="ticker">
      <span>تلفن: 021-55661234</span>
      <span>واتساپ: 09121234567</span>
      <span>ارسال رایگان تهران و کرج</span>
      <span>نصب حرفه‌ای پکیج و رادیاتور</span>
      <span>ضمانت اصالت کالا</span>
      <span>مشاوره رایگان تأسیسات</span>
    </div>
  </div>

  <header class="main-header">
    <div class="container">
      <div class="header-content">
        <div class="logo">شوفاژ حیدری</div>
        <div class="search-bar">
          <input type="text" placeholder="جستجوی پکیج، رادیاتور، شیرآلات...">
        </div>
        <div class="header-icons" hidden>
          <a href="#">سبد خرید (۰)</a>
          <a href="#">ورود / ثبت نام</a>
        </div>
      </div>
    </div>
  </header>

  <nav class="navbar navbar-expand-lg sticky-top">
    <div class="container">
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse justify-content-center" id="mainNav">
        <ul class="navbar-nav">
          <li class="nav-item"><a class="nav-link" href="index.html">صفحه اصلی</a></li>
          <li class="nav-item"><a class="nav-link" href="product.html">محصول نمونه</a></li>
          <li class="nav-item"><a class="nav-link" href="blog.html">بلاگ</a></li>
        </ul>
      </div>
    </div>
  </nav>


  <div class="container">
    <a class="back" href="index.html">« بازگشت به صفحه اصلی</a>
    <h1 class="mb-3">جستجو</h1>

    <div class="search-box">
      <input id="q" class="form-control" placeholder="متن جستجو را وارد کنید...">
      <button id="do" class="btn btn-warning ms-2">جستجو</button>
    </div>

    <div class="row g-4 mt-2">
      <!-- Filters column (right side in RTL) -->
      <aside class="col-12 col-md-3">
        <div class="card sticky-top" style="top:18px">
          <div class="card-body">
            <h6 class="card-title">فیلترها</h6>

            <div class="mb-3">
              <label class="form-label">دسته‌بندی</label>
              <div class="form-check">
                <input class="form-check-input filter-category" type="checkbox" value="پکیج" id="cat1" checked>
                <label class="form-check-label" for="cat1">پکیج</label>
              </div>
              <div class="form-check">
                <input class="form-check-input filter-category" type="checkbox" value="رادیاتور" id="cat2" checked>
                <label class="form-check-label" for="cat2">رادیاتور</label>
              </div>
              <div class="form-check">
                <input class="form-check-input filter-category" type="checkbox" value="مقاله" id="cat3" checked>
                <label class="form-check-label" for="cat3">مقاله</label>
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">قیمت (حداقل - حداکثر)</label>
              <div class="d-flex gap-2">
                <input type="number" id="price-min" class="form-control form-control-sm" placeholder="از">
                <input type="number" id="price-max" class="form-control form-control-sm" placeholder="تا">
              </div>
            </div>

            <div class="mb-3">
              <label class="form-label">برند</label>
              <div class="form-check">
                <input class="form-check-input filter-brand" type="checkbox" value="ایران رادیاتور" id="b1" checked>
                <label class="form-check-label" for="b1">ایران رادیاتور</label>
              </div>
              <div class="form-check">
                <input class="form-check-input filter-brand" type="checkbox" value="باتیستا" id="b2" checked>
                <label class="form-check-label" for="b2">باتیستا</label>
              </div>
            </div>

            <div class="d-grid">
              <button id="apply-filters" class="btn btn-primary btn-sm">اعمال فیلترها</button>
              <button id="clear-filters" class="btn btn-link btn-sm text-decoration-none">پاک کردن</button>
            </div>
          </div>
        </div>
      </aside>

      <!-- Results column (left side in RTL) -->
      <main class="col-12 col-md-9">
        <div class="d-flex align-items-center justify-content-between mb-3">
          <div class="small text-muted">نمایش <span id="results-count">0</span> مورد</div>
          <div class="d-flex align-items-center">
            <label class="me-2 mb-0">مرتب‌سازی:</label>
            <select id="sort-by" class="form-select form-select-sm">
              <option value="relevance">مرتبط‌ترین</option>
              <option value="price-asc">قیمت: کم به زیاد</option>
              <option value="price-desc">قیمت: زیاد به کم</option>
              <option value="newest">جدیدترین</option>
            </select>
          </div>
        </div>

        <div id="results" class="row row-cols-1 row-cols-md-2 g-3">
          <!-- JS will render result cards here -->
        </div>

        <nav class="mt-3" aria-label="نتایج">
          <ul id="pager" class="pagination justify-content-center"></ul>
        </nav>
      </main>
    </div>
  </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>فروشگاه تاسیسات حیدری</h3>
                    <p>تأمین کننده تجهیزات تأسیسات ساختمان با بهترین قیمت و ضمانت اصالت</p>
                </div>
                <div class="footer-section">
                    <h3>لینک‌های سریع</h3>
                    <a href="#">صفحه اصلی</a>
                    <a href="#">پکیج</a>
                    <a href="#">رادیاتور</a>
                    <a href="#">شیرآلات</a>
                </div>
                <div class="footer-section">
                    <h3>خدمات</h3>
                    <a href="#">نصب و راه‌اندازی</a>
                    <a href="#">خدمات پس از فروش</a>
                    <a href="#">مشاوره رایگان</a>
                </div>
                <div class="footer-section">
                    <h3>تماس با ما</h3>
                    <p>تلفن: 021-55661234</p>
                    <p>موبایل: 09121234567</p>
                    <p>آدرس: تهران - خیابان انقلاب</p>
                </div>
            </div>
            <div class="footer-bottom">
                © ۱۴۰۴ فروشگاه تاسیسات حیدری - تمامی حقوق محفوظ است
            </div>
        </div>
    </footer>

  <script>
    function renderQuery(){
      const params = new URLSearchParams(location.search);
      const q = params.get('q');
      if(q){
        document.getElementById('q').value = q;
      }
    }
    document.getElementById('do').addEventListener('click', ()=>{
      const q = encodeURIComponent(document.getElementById('q').value.trim());
      if(q) location.search = 'q='+q;
    });
    renderQuery();
  </script>
  <script>
    // Sample data set
    const sampleItems = [
      {id:1,type:'پکیج',title:'پکیج ایران رادیاتور M24FF',price:42000000,brand:'ایران رادیاتور',date:'2025-10-01',url:'product.html',desc:'پکیج دو مبدل، مناسب منازل متوسط'},
      {id:2,type:'رادیاتور',title:'رادیاتور آلومینیومی 60x60',price:4500000,brand:'باتیستا',date:'2025-09-15',url:'product.html',desc:'ظرفیت بالا و نصب آسان'},
      {id:3,type:'مقاله',title:'راهنمای انتخاب پکیج دیواری',price:0,brand:'',date:'2024-05-10',url:'blog-detail.html',desc:'نکات انتخاب و نصب پکیج'},
      {id:4,type:'پکیج',title:'پکیج بوتان B24',price:38000000,brand:'بوتان',date:'2025-11-05',url:'product.html',desc:'صرفه‌جویی در مصرف گاز'},
      {id:5,type:'رادیاتور',title:'رادیاتور فولادی 80x60',price:5200000,brand:'ایران رادیاتور',date:'2025-07-22',url:'product.html',desc:'مقاوم و با طراحی مدرن'},
      {id:6,type:'پکیج',title:'پکیج زمینی صنعتی',price:120000000,brand:'باتیستا',date:'2024-12-01',url:'product.html',desc:'مناسب ساختمان‌های بزرگ'},
      {id:7,type:'مقاله',title:'نکات تعمیرات پکیج',price:0,brand:'',date:'2023-08-18',url:'blog-detail.html',desc:'عیب‌یابی و راهکارها'},
      {id:8,type:'رادیاتور',title:'رادیاتور پنلی 60',price:3200000,brand:'باتیستا',date:'2025-01-11',url:'product.html',desc:'قیمت مناسب و راندمان بالا'}
    ];

    let state = {
      items: sampleItems.slice(),
      filtered: sampleItems.slice(),
      page: 1,
      perPage: 4,
      sortBy: 'relevance'
    }

    function formatPrice(p){ if(!p) return 'رایگان'; return p.toLocaleString('fa-IR')+' تومان'; }

    function applyFilters(){
      const q = document.getElementById('q').value.trim();
      const activeCats = Array.from(document.querySelectorAll('.filter-category:checked')).map(i=>i.value);
      const activeBrands = Array.from(document.querySelectorAll('.filter-brand:checked')).map(i=>i.value);
      const min = Number(document.getElementById('price-min').value||0);
      const max = Number(document.getElementById('price-max').value||Infinity);

      state.filtered = state.items.filter(it=>{
        if(activeCats.length && !activeCats.includes(it.type)) return false;
        if(activeBrands.length && it.brand && !activeBrands.includes(it.brand)) return false;
        if(it.price && (it.price < min || it.price > max)) return false;
        if(q){
          const combined = (it.title+' '+it.desc+' '+it.brand+' '+it.type).toLowerCase();
          if(!combined.includes(q.toLowerCase())) return false;
        }
        return true;
      });
      state.page = 1;
      sortAndRender();
    }

    function clearFilters(){
      document.querySelectorAll('.filter-category, .filter-brand').forEach(i=>i.checked=true);
      document.getElementById('price-min').value = '';
      document.getElementById('price-max').value = '';
      document.getElementById('q').value = '';
      state.filtered = state.items.slice();
      state.page = 1;
      sortAndRender();
    }

    function sortAndRender(){
      const s = document.getElementById('sort-by').value;
      state.sortBy = s;
      const arr = state.filtered.slice();
      if(s==='price-asc') arr.sort((a,b)=> (a.price||0)-(b.price||0));
      else if(s==='price-desc') arr.sort((a,b)=> (b.price||0)-(a.price||0));
      else if(s==='newest') arr.sort((a,b)=> new Date(b.date)-new Date(a.date));
      // relevance keeps original order
      state.filtered = arr;
      renderResults();
    }

    function renderResults(){
      const container = document.getElementById('results');
      container.innerHTML = '';
      const total = state.filtered.length;
      document.getElementById('results-count').textContent = total;

      const start = (state.page-1)*state.perPage;
      const items = state.filtered.slice(start, start+state.perPage);
      if(items.length===0){
        container.innerHTML = '<div class="alert alert-light">هیچ نتیجه‌ای یافت نشد.</div>';
      }

      items.forEach(it=>{
        const col = document.createElement('div'); col.className='col';
        col.innerHTML = `
          <div class="card result h-100">
            <div class="row g-0 align-items-center">
              <div class="col-auto p-3">
                <img src="https://via.placeholder.com/120x80?text=img" class="img-fluid rounded" alt="">
              </div>
              <div class="col">
                <div class="card-body py-2">
                  <h5 class="card-title mb-1"><a href="${it.url}">${it.title}</a></h5>
                  <p class="card-text small text-muted mb-1">${it.desc}</p>
                  <div class="d-flex justify-content-between align-items-center">
                    <div class="badge bg-secondary">${it.type}</div>
                    <div class="fw-bold text-primary">${formatPrice(it.price)}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `;
        container.appendChild(col);
      });

      renderPager(total);
    }

    function renderPager(total){
      const pager = document.getElementById('pager');
      pager.innerHTML = '';
      const pages = Math.max(1, Math.ceil(total/state.perPage));
      const createPage = (p,label,active)=>{
        const li = document.createElement('li'); li.className = 'page-item'+(active?' active':'');
        const a = document.createElement('a'); a.className='page-link'; a.href='#'; a.textContent=label; a.addEventListener('click',(e)=>{e.preventDefault(); state.page=p; renderResults();});
        li.appendChild(a); return li;
      }
      pager.appendChild(createPage(Math.max(1,state.page-1),'‹',false));
      for(let i=1;i<=pages;i++) pager.appendChild(createPage(i,i,i===state.page));
      pager.appendChild(createPage(Math.min(pages,state.page+1),'›',false));
    }

    document.getElementById('apply-filters').addEventListener('click', applyFilters);
    document.getElementById('clear-filters').addEventListener('click', clearFilters);
    document.getElementById('sort-by').addEventListener('change', sortAndRender);
    document.getElementById('do').addEventListener('click', ()=>{ state.items = sampleItems.slice(); applyFilters(); });

    // initial render
    sortAndRender();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"></script>
</body>
</html>
