{% extends "base.html" %}

{% block title %}{{ article.title }} - ÙØ±ÙˆØ´Ú¯Ø§Ù‡ ØªØ§Ø³ÛŒØ³Ø§Øª Ø­ÛŒØ¯Ø±ÛŒ{% endblock %}

{% block extra_css %}
<style>
    .article-container {
        max-width: 900px;
        margin: 0 auto;
    }
    .article-header {
        background: #fff;
        padding: 30px;
        border-radius: 12px;
        margin-bottom: 30px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    }
    .article-header h1 {
        font-size: 32px;
        color: #222;
        margin-bottom: 15px;
        line-height: 1.4;
    }
    .article-meta {
        color: #888;
        font-size: 14px;
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
    }
    .article-meta span {
        display: flex;
        align-items: center;
        gap: 5px;
    }
    .hero-image {
        width: 100%;
        height: 400px;
        background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)),
                    url('{{ article.featured_image | default('https://via.placeholder.com/1000x400?text=Ù…Ù‚Ø§Ù„Ù‡') }}') center/cover no-repeat;
        border-radius: 12px;
        margin-bottom: 30px;
    }
    .article-content {
        background: #fff;
        padding: 40px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        margin-bottom: 30px;
        line-height: 1.9;
        font-size: 16px;
        color: #333;
    }
    .article-content h3 {
        font-size: 22px;
        color: #222;
        margin: 30px 0 15px;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--main);
    }
    .article-content strong {
        color: var(--main);
    }
    .related-articles {
        background: #fff;
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        margin-bottom: 50px;
    }
    .related-articles h3 {
        font-size: 22px;
        margin-bottom: 20px;
        color: #222;
    }
    .related-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
    }
    .related-card {
        background: #f8f8f8;
        padding: 20px;
        border-radius: 8px;
        text-decoration: none;
        color: #333;
        transition: .3s;
        border: 2px solid transparent;
    }
    .related-card:hover {
        border-color: var(--main);
        transform: translateY(-3px);
    }
    .related-card h4 {
        font-size: 16px;
        margin-bottom: 8px;
        color: var(--main);
    }
    .related-card p {
        font-size: 14px;
        color: #666;
        margin: 0;
    }
</style>
{% endblock %}

{% block content %}
<!-- Breadcrumb -->
<div class="breadcrumb-wrapper">
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a href="{{ url_for('index') }}">Ø®Ø§Ù†Ù‡</a></li>
                <li class="breadcrumb-item"><a href="{{ url_for('blog_list') }}">Ø¨Ù„Ø§Ú¯</a></li>
                <li class="breadcrumb-item active" aria-current="page">{{ article.title }}</li>
            </ol>
        </nav>
    </div>
</div>

<!-- Ù…Ø­ØªÙˆØ§ÛŒ Ù…Ù‚Ø§Ù„Ù‡ -->
<div class="container">
    <div class="article-container">
        <!-- Ù‡Ø¯Ø± Ù…Ù‚Ø§Ù„Ù‡ -->
        <div class="article-header">
            <h1>{{ article.title }}</h1>
            <div class="article-meta">
                <span>ğŸ“… {{ article.created_at.strftime('%Y/%m/%d') }}</span>
                <span>âœï¸ Ù†ÙˆÛŒØ³Ù†Ø¯Ù‡: {{ article.author }}</span>
                <span>ğŸ‘ï¸ {{ article.view_count | default(0) }} Ø¨Ø§Ø²Ø¯ÛŒØ¯</span>
            </div>
        </div>

        <!-- ØªØµÙˆÛŒØ± Ø´Ø§Ø®Øµ -->
        <div class="hero-image"></div>

        <!-- Ù…Ø­ØªÙˆØ§ÛŒ Ø§ØµÙ„ÛŒ Ù…Ù‚Ø§Ù„Ù‡ -->
        <div class="article-content">
            {{ article.content | safe }}  <!-- Ù…Ù‡Ù…: safe Ø¨Ø±Ø§ÛŒ Ø±Ù†Ø¯Ø± Ú©Ø±Ø¯Ù† ØªÚ¯â€ŒÙ‡Ø§ÛŒ HTML Ø¯Ø§Ø®Ù„ Ù…Ø­ØªÙˆØ§ -->
        </div>

        <!-- Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø±ØªØ¨Ø· -->
        {% if related_articles %}
        <div class="related-articles">
            <h3>Ù…Ù‚Ø§Ù„Ø§Øª Ù…Ø±ØªØ¨Ø·</h3>
            <div class="related-grid">
                {% for rel in related_articles %}
                <a href="{{ url_for('blog_detail', slug=rel.slug) }}" class="related-card">
                    <h4>{{ rel.title }}</h4>
                    <p>{{ rel.summary or 'Ø§Ø¯Ø§Ù…Ù‡ Ù…Ø·Ù„Ø¨...' }}</p>
                </a>
                {% endfor %}
                <a href="{{ url_for('blog_list') }}" class="related-card">
                    <h4>Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ù„ÛŒØ³Øª Ù…Ù‚Ø§Ù„Ø§Øª</h4>
                    <p>Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡ Ù…Ù‚Ø§Ù„Ø§Øª Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§Ù‡Ø§ÛŒ ØªØ®ØµØµÛŒ</p>
                </a>
            </div>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}