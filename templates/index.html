{% extends "base.html" %}

{% block title %}فروشگاه تاسیسات حیدری - صفحه اصلی{% endblock %}

{% block extra_css %}
<meta name="description" content="فروشگاه تاسیسات حیدری - خرید آنلاین پکیج ایران رادیاتور، بوتان، شیرآلات قهرمان، لوله پنج لایه و رادیاتور پنلی با بهترین قیمت. ارسال رایگان به تهران و کرج">
<meta name="keywords" content="پکیج، شوفاژ، رادیاتور، شیرآلات، تاسیسات ساختمانی، ایران رادیاتور، بوتان، قهرمان">
<link rel="canonical" href="{{ request.url }}">
<meta property="og:title" content="فروشگاه تاسیسات حیدری - خرید تاسیسات ساختمانی">
<meta property="og:description" content="خرید آنلاین انواع تاسیسات ساختمانی با بهترین قیمت و ضمانت اصالت">
<meta property="og:type" content="website">
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
<style>
.brands-section {
    padding: 40px 0;
    background: #f8f9fa;
}

.brands-slider-wrapper {
    position: relative;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 50px;
}

.brands-slider {
    overflow-x: auto;
    overflow-y: hidden;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: thin;
}

.brands-slider::-webkit-scrollbar {
    height: 8px;
}

.brands-slider::-webkit-scrollbar-track {
    background: #e9ecef;
    border-radius: 4px;
}

.brands-slider::-webkit-scrollbar-thumb {
    background: #adb5bd;
    border-radius: 4px;
}

.brands-slider::-webkit-scrollbar-thumb:hover {
    background: #6c757d;
}

.brands-track {
    display: flex;
    gap: 24px;
    padding: 20px 0;
}

.brand-item {
    flex: 0 0 200px;
    padding: 20px;
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    text-align: center;
    transition: transform 0.3s, box-shadow 0.3s;
}

.brand-item:hover {
    transform: translateY(-5px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.brand-item img {
    max-height: 60px;
    max-width: 100%;
    object-fit: contain;
    margin-bottom: 10px;
}

.brand-item h4 {
    font-size: 14px;
    color: #333;
    margin: 0;
}

.brand-placeholder {
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: #f5f5f5;
    border-radius: 6px;
    margin-bottom: 10px;
    font-weight: bold;
}

.slider-btn {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    background: white;
    border: none;
    width: 40px;
    height: 40px;
    border-radius: 50%;
    box-shadow: 0 2px 8px rgba(0,0,0,0.15);
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    transition: all 0.3s;
}

.slider-btn:hover {
    box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    transform: translateY(-50%) scale(1.1);
}

.slider-btn-left {
    left: 0;
}

.slider-btn-right {
    right: 0;
}
</style>
{% endblock %}

{% block content %}
<div class="container">
    <div class="hero-slider">
        <div class="slide-content">
            <h2>تاسیسات ساختمان با بهترین قیمت</h2>
            <p>پکیج ایران رادیاتور • بوتان • شیرآلات قهرمان • لوله پنج لایه • رادیاتور پنلی</p>
            <button class="btn">همین حالا خرید کنید</button>
        </div>
    </div>

    <div class="features">
        <div class="container">
            <div class="features-grid">
                <div class="feature-item">
                    <div class="feature-icon">
                        <img src="https://cdn-icons-png.flaticon.com/128/709/709790.png" alt="ارسال">
                    </div>
                    <h3>ارسال سریع</h3>
                    <p>ارسال رایگان تهران و کرج</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <img src="https://cdn-icons-png.flaticon.com/128/1828/1828640.png" alt="ضمانت">
                    </div>
                    <h3>ضمانت اصالت</h3>
                    <p>تمامی کالاها با فاکتور رسمی</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <img src="https://cdn-icons-png.flaticon.com/128/2377/2377993.png" alt="نصب">
                    </div>
                    <h3>نصب توسط تیم حرفه‌ای</h3>
                    <p>خدمات پس از فروش</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <img src="https://cdn-icons-png.flaticon.com/128/2706/2706962.png" alt="پشتیبانی">
                    </div>
                    <h3>مشاوره رایگان</h3>
                    <p>تلفنی و حضوری</p>
                </div>
            </div>
        </div>
    </div>
    
    <h2 class="section-title">دسته‌بندی محصولات</h2>
    <div class="category-grid">
        {% for c in categories|default([]) %}
        <div class="category-card">
            <div class="category-icon">
                <img src="https://cdn-icons-png.flaticon.com/128/2062/2062614.png" alt="{{ c.category_name }}">
            </div>
            <h3><a class="no-decoration" href="{{ url_for('search') }}?category_id={{ c.category_id }}">{{ c.category_name }}</a></h3>
        </div>
        {% else %}
        <div class="category-card">
            <h3>دسته‌ای یافت نشد</h3>
        </div>
        {% endfor %}
    </div>

    <h2 class="section-title">برندها</h2>
</div>

<div class="brands-section">
    <div class="brands-slider-wrapper">
        <button class="slider-btn slider-btn-left" onclick="scrollBrands(-1)" > › </button>
        <div class="brands-slider" id="brandsSlider">
            <div class="brands-track">
                {% for b in brands|default([]) %}
                <div class="brand-item">
                    <a class="no-decoration" href="{{ url_for('search') }}?q={{ b.brand_name }}">
                        {% if b.logo_url %}
                        <img src="/{{ b.logo_url }}" alt="{{ b.brand_name }}">
                        {% else %}
                        <div class="brand-placeholder">{{ b.brand_name }}</div>
                        {% endif %}
                        <h4>{{ b.brand_name }}</h4>
                    </a>
                </div>
                {% endfor %}
            </div>
        </div>
        <button class="slider-btn slider-btn-right" onclick="scrollBrands(1)">‹</button>
    </div>
</div>

<script>
function scrollBrands(direction) {
    const slider = document.getElementById('brandsSlider');
    const scrollAmount = 300;
    slider.scrollBy({
        left: direction * scrollAmount,
        behavior: 'smooth'
    });
}
</script>

<div class="container">
    <h2 class="section-title">پرفروش‌ترین محصولات</h2>
    <div class="slider-container">
        <div class="slider-track">
            {% for p in featured_products %}
            <div class="product-card">
                <div class="product-image">
                    {% if p.image_url %}
                        <img src="/{{ p.image_url }}" alt="{{ p.product_name }}" class="product-card-img">
                    {% else %}
                        <img src="https://via.placeholder.com/160?text=img" alt="{{ p.product_name }}">
                    {% endif %}
                </div>
                <div class="product-info">
                    <h3><a class="no-decoration" href="{{ url_for('product_detail', slug=p.slug) }}">{{ p.product_name }}</a></h3>
                    <div class="product-meta">{{ p.brand.brand_name if p.brand else '' }}</div>
                    {% set price = p.variants[0].retail_price if p.variants|length > 0 else None %}
                    <div class="price">{{ price|currency }}</div>
                    <a href="{{ url_for('product_detail', slug=p.slug) }}" class="btn btn-sm btn-outline-primary">مشاهده</a>
                </div>
            </div>
            {% else %}
            <div class="product-card"><div class="product-info"><h3>هیچ محصولی موجود نیست</h3></div></div>
            {% endfor %}
        </div>
    </div>
</div>

<h2 class="section-title">بلاگ و مقالات</h2>
<div class="container">
    <div class="category-grid">
        {% for cat in article_categories %}
        <div class="category-card">
            <div class="category-icon">
                <img src="{{ cat.icon_url|default('https://cdn-icons-png.flaticon.com/128/2869/2869863.png') }}" alt="{{ cat.name }}">
            </div>
            <h3><a class="no-decoration" href="{{ url_for('blog_category', category_id=cat.category_id) }}"> {{ cat.name }} </a></h3>
            <p>{{ cat.description|default('مطالب مرتبط با ' + cat.name) }}</p>
        </div>
        {% endfor %}
    </div>
</div>

<div class="intro-video">
    <div>
        <h3>معرفی کوتاه فروشگاه</h3>
        <p>
            اینجا می‌توانید متن معرفی فروشگاه خود را قرار دهید. توضیحاتی درباره محصولات و خدمات ارائه دهید تا بازدیدکننده‌ها سریع با فروشگاه آشنا شوند.
        </p>
    </div>
    <div>
        <div id="58646588322"></div>
    </div>
</div>

{% block extra_js %}
<script src="{{ url_for('static', filename='js/aparat-embed.js') }}"></script>
{% endblock %}

{% endblock %}